<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Control Panel | TaskMaster</title>

  <!-- Global + Page Styles -->
  <link rel="stylesheet" href="../../src/styles/style.css">
  <link rel="stylesheet" href="../../src/styles/admin.css">

  <!-- Access Control + Admin Logic -->
  <script type="module" src="../../src/services/guard.js"></script>
  <script type="module" src="../../src/services/admin.js"></script>
</head>

<body>
  <div class="layout-wrapper">

    <!-- LEFT MENU -->
    <aside class="menu-panel">
      <div class="menu-brand">
        <img src="../../src/assets/brandmark.png" alt="Brand Logo" class="brand-img">
        <h2 class="brand-title">TaskMaster</h2>
      </div>

      <nav class="menu-links">
        <a href="./tasks.html" class="menu-item">
          <img src="../../src/assets/nav_tasks.png" alt="Tasks"> <span>Tasks</span>
        </a>

        <a href="./profile.html" class="menu-item">
          <img src="../../src/assets/nav_user.png" alt="Profile"> <span>Profile</span>
        </a>

        <a href="./admin.html" class="menu-item selected">
          <span class="emoji-icon">ðŸ› </span> <span>Admin</span>
        </a>

        <button id="logoutBtn" class="menu-item logout-btn">Logout</button>
      </nav>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="content-area">

      <!-- TOP HEADER -->
      <header class="header-bar">
        <div class="admin-user">
          <strong class="admin-name" id="adminName">Admin</strong>
          <span class="admin-role">System Administrator</span>
        </div>
      </header>

      <section class="page-section">
        <div class="section-header">
          <h1 class="page-title">Administration Panel</h1>
          <p class="page-subtitle">Overview and management of all registered tasks.</p>
        </div>
      </section>

      <!-- METRICS GRID -->
      <section class="stats-grid">

        <div class="stat-box">
          <div class="stat-info">
            <p>Total Tasks</p>
            <span id="totalTasks">0</span>
          </div>
          <img src="../../src/assets/stat_total.png" alt="Total">
        </div>

        <div class="stat-box">
          <div class="stat-info">
            <p>Pending</p>
            <span id="pendingTasks">0</span>
          </div>
          <img src="../../src/assets/stat_pending.png" alt="Pending">
        </div>

        <div class="stat-box">
          <div class="stat-info">
            <p>Completed</p>
            <span id="completedTasks">0</span>
          </div>
          <img src="../../src/assets/stat_done.png" alt="Completed">
        </div>

        <div class="stat-box progress-box">
          <div class="progress-info">
            <p>Progress</p>
            <span id="progressPercent">0%</span>
          </div>
          <img src="../../src/assets/stat_progress.png" alt="Progress" class="progress-img">
        </div>

      </section>

      <!-- TASK TABLE -->
      <section class="table-wrapper">
        <h2 class="table-title">Registered Tasks</h2>

        <table class="admin-table">
          <thead>
            <tr>
              <th>Title</th>
              <th>Details</th>
              <th>User ID</th>
              <th>Status</th>
              <th>Priority</th>
              <th>Options</th>
            </tr>
          </thead>

          <tbody id="adminTaskList">
            <!-- Filled dynamically -->
          </tbody>
        </table>
      </section>

    </main>
  </div>
</body>
</html>
